<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Кнопки с вдавленным текстом и эффектом сгорания (рандомное число клякс)</title>
  <style>
    /* FLEX-верстка: кнопки автоматически внизу */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      display: flex;
      flex-direction: column;
      background-color: #f5f1e2; /* общий бежевый фон */
    }

    /* Пустой блок .content (без текста) для растягивания */
    .content {
      flex: 1;
      box-sizing: border-box;
    }

    /* Контейнер кнопок внизу */
    #buttons-container {
      display: flex;
      justify-content: center;
      gap: 40px;
      padding: 20px;
    }

    /* ---- КНОПКА ---- */
    .paper-btn {
      position: relative; /* для позиционирования текста */
      border: none;
      background: none;
      padding: 0;
      cursor: pointer;
      display: inline-block;
    }
    /* Изображение пергамента: показываем полностью, без обрезки */
    .paper-btn .paper-bg {
      display: block;
      width: 350px;  /* подберите ширину под ваш макет */
      height: auto;
    }

    /* ----- ВДАВЛЕННЫЙ КОРИЧНЕВЫЙ ТЕКСТ (основное состояние) ----- */
    .btn-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-family: Georgia, serif;
      font-size: 36px;          /* увеличенный размер */
      color: #8B4513;           /* тёмно-коричневый */
      pointer-events: none;
      /*
        Тени для «вдавленности»:
        - Тёмная тень снизу-справа
        - Светлая тень сверху-слева
      */
      text-shadow:
        1px 1px 0 #4f3217,
        -1px -1px 0 #fff;
    }

    /*
      ----- ЭФФЕКТ «ПРИЖАТИЯ» ПРИ НАЖАТИИ -----
      Пока кнопка в состоянии :active, инвертируем тени 
      и чуть уменьшаем масштаб, чтобы текст казался «вдавленным» сильнее.
    */
    .paper-btn:active .btn-text {
      transform: translate(-50%, -50%) scale(0.95);
      text-shadow:
        -1px -1px 0 #4f3217,
         1px  1px 0 #fff;
    }

    /* ----- КЛЯКСЫ (большие, 200×200) ----- */
    .ink-splash {
      position: absolute;
      width: 200px;
      height: 200px;
      background: url("buttom/13.png") no-repeat center/contain;
      pointer-events: none;
      opacity: 0;
      transform: scale(0.5) rotate(0deg);
      animation: splashFade 0.5s forwards;
    }
    @keyframes splashFade {
      0% {
        opacity: 0;
        transform: scale(0.5) rotate(0deg);
      }
      50% {
        opacity: 1;
        transform: scale(1.2) rotate(15deg);
      }
      100% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
      }
    }
  </style>
</head>
<body>
  <!-- Пустой контент для растягивания -->
  <div class="content"></div>

  <!-- Контейнер кнопок внизу -->
  <div id="buttons-container">
    <!-- Кнопка "Вернуться" -->
    <button class="paper-btn" id="backButton">
      <img src="buttom/16.png" alt="Пергамент" class="paper-bg">
      <span class="btn-text" id="backText">Вернуться</span>
    </button>

    <!-- Кнопка "Продолжить" -->
    <button class="paper-btn" id="nextButton">
      <img src="buttom/16.png" alt="Пергамент" class="paper-bg">
      <span class="btn-text" id="nextText">Продолжить</span>
    </button>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const backButton = document.getElementById('backButton');
      const nextButton = document.getElementById('nextButton');

      const backText = document.getElementById('backText');
      const nextText = document.getElementById('nextText');

      // Функция, создающая случайное число клякс (2 или 3) + звук
      function createSplashes(buttonElem) {
        if (buttonElem.dataset.animating === "true") return;
        buttonElem.dataset.animating = "true";

        // Случайное число: либо 2, либо 3
        const numSplashes = Math.floor(Math.random() * 2) + 2;
        const splashDelay = 300;
        const splashSize = 200;
        const rect = buttonElem.getBoundingClientRect();
        const btnWidth  = rect.width;
        const btnHeight = rect.height;

        function makeSplash(i) {
          const splash = document.createElement('div');
          splash.classList.add('ink-splash');

          // Располагаем кляксу так, чтобы она была ближе к краям, но не закрывала текст полностью
          let offsetX;
          if (Math.random() < 0.5) {
            offsetX = Math.random() * (0.15 * btnWidth);
          } else {
            offsetX = btnWidth - splashSize - Math.random() * (0.15 * btnWidth);
          }
          const offsetY = 0.1 * btnHeight + Math.random() * (btnHeight - splashSize - 0.3 * btnHeight);

          splash.style.left = offsetX + 'px';
          splash.style.top  = offsetY + 'px';

          buttonElem.appendChild(splash);

          // Проигрываем звук кляксы (относительный путь)
          const audio = new Audio("buttom/klycsasound.mp3");
          audio.play().catch(err => console.log(err));

          // После последней кляксы удаляем их и сбрасываем флаг
          if (i === numSplashes - 1) {
            setTimeout(() => {
              buttonElem.querySelectorAll('.ink-splash').forEach(s => s.remove());
              buttonElem.dataset.animating = "false";
            }, 1500);
          }
        }

        for (let i = 0; i < numSplashes; i++) {
          setTimeout(() => {
            makeSplash(i);
          }, i * splashDelay);
        }
      }

      // Обработчик для кнопки "Вернуться"
      backButton.addEventListener('click', () => {
        createSplashes(backButton);
        setTimeout(() => {
          window.history.back();
        }, 1000);
      });

      // Обработчик для кнопки "Продолжить"
      nextButton.addEventListener('click', () => {
        createSplashes(nextButton);
        setTimeout(() => {
          alert("Переходим дальше...");
          // Или window.location.href = "nextpage.html";
        }, 1000);
      });
    });
  </script>
</body>
</html>
















